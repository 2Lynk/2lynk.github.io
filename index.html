
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Lynk ‚Ä¢ Modrinth Mods</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="/stylesheet.css" />
</head>
<body>
  <header>
    <div class="header-inner">
      <a href="./" class="brand">
        <div class="brand-mark">L</div>
        <div class="brand-labels">
          <div class="brand-text-main">Lynk</div>
          <div class="brand-text-sub">Minecraft mods & tools</div>
        </div>
      </a>
      <nav class="nav-links">
        <a class="nav-pill" href="https://github.com/2Lynk" target="_blank" rel="noreferrer">
          <span>GitHub</span>
        </a>
        <a class="nav-pill" href="https://modrinth.com/user/Lynk" target="_blank" rel="noreferrer">
          <span>Modrinth profile</span>
        </a>
        <a class="nav-pill" href="#mods">
          <span>Browse my mods</span>
        </a>
        <a class="nav-pill" href="https://discord.gg/7jkpWz2Uks">
          <span>Contact me @ discord</span>
        </a>
      </nav>
    </div>
  </header>

  <main class="home-main">
    <section class="hero" aria-label="Introduction & summary">
      <div class="hero-left">
        <div class="hero-kicker">
          <span class="hero-kicker-badge">Creator</span>
          <span>Mods, utilities & experiments for modern Minecraft</span>
        </div>

        <h1 class="hero-title">
          Polished Minecraft experiences,<br />
          <span class="highlight">built for servers & survival worlds.</span>
        </h1>

        <p class="hero-subtitle">
          I build focused, server-friendly mods and tools that enhance gameplay without
          bloating your pack. Everything here ships on
          <strong>Modrinth</strong> with source on GitHub.
        </p>

        <div class="hero-actions">
          <a class="hero-btn-primary" href="#mods">
            <span>See all Modrinth projects</span>
          </a>
          <a class="hero-btn-ghost" href="https://modrinth.com/user/Lynk" target="_blank" rel="noreferrer">
            <span class="icon">‚Üó</span>
            <span>Open Modrinth profile</span>
          </a>
        </div>

        <div class="stats-row">
          <div class="stat-pill">
            <span>Projects:</span>
            <strong id="stat-project-count">‚Äì</strong>
          </div>
          <div class="stat-pill">
            <span>Total downloads:</span>
            <strong id="stat-total-downloads">‚Äì</strong>
          </div>
          <div class="stat-pill">
            <span>Most downloaded mod:</span>
            <strong id="stat-top-mod">‚Äì</strong>
          </div>
        </div>
      </div>

      <aside class="hero-right">
        <div class="hero-panel" aria-label="Download statistics">
          <div class="hero-panel-header">
            <div>
              <div class="panel-title">Modrinth Stats</div>
              <div class="panel-subtitle">
                Live from <code>api.modrinth.com</code> ‚Äì no manual numbers.
              </div>
            </div>
            <div class="panel-badge">
              <span>API v2</span>
              <span>‚Ä¢</span>
              <span>Read-only</span>
            </div>
          </div>

          <div class="panel-metrics">
            <div class="metric">
              <div class="metric-label">Total downloads</div>
              <div class="metric-value" id="metric-total-downloads">‚Äì</div>
              <div class="metric-note">Across all projects</div>
            </div>
            <div class="metric">
              <div class="metric-label">Projects</div>
              <div class="metric-value" id="metric-project-count">‚Äì</div>
              <div class="metric-note">Mods & modpacks</div>
            </div>
            <div class="metric">
              <div class="metric-label">Avg. downloads</div>
              <div class="metric-value" id="metric-average-downloads">‚Äì</div>
              <div class="metric-note">Per project</div>
            </div>
          </div>

          <div class="panel-footer">
            <span>Top project: <strong id="metric-top-project-name">‚Äì</strong></span>
            <span id="metric-last-updated">Last updated: ‚Äì</span>
          </div>
        </div>
      </aside>
    </section>

    <section id="mods" aria-label="Modrinth projects">
      <div class="section-header">
        <div>
          <h2 class="section-title">Modrinth Projects</h2>
          <p class="section-subtitle">
            Automatically pulled from my Modrinth user account. Sorts by downloads so
            popular projects show up first.
          </p>
        </div>
        <div class="filters-row">
          <div class="chip">Sort: <strong>Downloads ‚Üì</strong></div>
          <button class="chip chip--interactive chip--active" type="button" id="filter-all">
            <span>All types</span>
          </button>
        </div>
      </div>

      <div id="mods-state" class="state-card">
        <div class="state-icon">‚è≥</div>
        <div>
          <div class="state-title">Loading projects from Modrinth‚Ä¶</div>
          <div class="state-muted">
            If this takes long, Modrinth might be rate limiting or temporarily unavailable.
          </div>
        </div>
      </div>

      <div id="mods-grid" class="mods-grid" hidden></div>
    </section>
  </main>

  <footer>
    <span>¬© <span id="footer-year"></span> Lynk. Not affiliated with Mojang or Microsoft.</span>
    <span>
      Data fetched via the
      <a href="https://docs.modrinth.com" target="_blank" rel="noreferrer">Modrinth API</a>.
    </span>
  </footer>

  <script>
    (function () {
      const MODRINTH_USER = "Lynk";
      const API_URL =
        "https://api.modrinth.com/v2/user/" + encodeURIComponent(MODRINTH_USER) + "/projects";

      const modsGrid = document.getElementById("mods-grid");
      const modsState = document.getElementById("mods-state");

      const statProjectCount = document.getElementById("stat-project-count");
      const statTotalDownloads = document.getElementById("stat-total-downloads");
      const statTopMod = document.getElementById("stat-top-mod");

      const metricProjectCount = document.getElementById("metric-project-count");
      const metricTotalDownloads = document.getElementById("metric-total-downloads");
      const metricAverageDownloads = document.getElementById("metric-average-downloads");
      const metricTopProjectName = document.getElementById("metric-top-project-name");
      const metricLastUpdated = document.getElementById("metric-last-updated");

      const filterAllBtn = document.getElementById("filter-all");
      const footerYear = document.getElementById("footer-year");

      if (footerYear) {
        footerYear.textContent = String(new Date().getFullYear());
      }

      function formatNumber(num) {
        if (typeof num !== "number" || !isFinite(num)) return "‚Äì";
        if (num >= 1_000_000) {
          return (num / 1_000_000).toFixed(1).replace(/\.0$/, "") + "M";
        }
        if (num >= 1_000) {
          return (num / 1_000).toFixed(1).replace(/\.0$/, "") + "k";
        }
        return num.toLocaleString();
      }

      function formatFullNumber(num) {
        if (typeof num !== "number" || !isFinite(num)) return "‚Äì";
        return num.toLocaleString();
      }

      function createElement(tag, className, content) {
        const el = document.createElement(tag);
        if (className) el.className = className;
        if (typeof content === "string") el.textContent = content;
        return el;
      }

      function renderState(icon, title, subtitle) {
        if (!modsState) return;
        modsState.innerHTML = "";
        const iconEl = createElement("div", "state-icon", icon);
        const wrapper = document.createElement("div");
        const titleEl = createElement("div", "state-title", title);
        const subtitleEl = createElement("div", "state-muted", subtitle);
        wrapper.appendChild(titleEl);
        wrapper.appendChild(subtitleEl);
        modsState.appendChild(iconEl);
        modsState.appendChild(wrapper);
      }

      function projectTypeLabel(projectType) {
        switch (projectType) {
          case "modpack":
            return "Modpack";
          case "resourcepack":
            return "Resource pack";
          case "shader":
            return "Shader";
          case "mod":
          default:
            return "Mod";
        }
      }

      function projectTypePathSegment(projectType) {
        switch (projectType) {
          case "modpack":
            return "modpack";
          case "resourcepack":
            return "resourcepack";
          case "shader":
            return "shader";
          case "mod":
          default:
            return "mod";
        }
      }

      function renderProjects(projects) {
        if (!modsGrid) return;
        modsGrid.innerHTML = "";

        if (!projects || projects.length === 0) {
          renderState("ü´•", "No projects found.", "Once I publish something on Modrinth, it will show up here automatically.");
          modsGrid.hidden = true;
          return;
        }

        // Sort by downloads desc
        const sorted = projects.slice().sort((a, b) => (b.downloads || 0) - (a.downloads || 0));

        // Stats
        const totalDownloads = sorted.reduce((sum, p) => sum + (p.downloads || 0), 0);
        const topProject = sorted[0];
        const averageDownloads = totalDownloads / sorted.length;

        statProjectCount.textContent = String(sorted.length);
        statTotalDownloads.textContent = formatNumber(totalDownloads);
        statTopMod.textContent = topProject ? topProject.title : "‚Äì";

        metricProjectCount.textContent = String(sorted.length);
        metricTotalDownloads.textContent = formatNumber(totalDownloads);
        metricAverageDownloads.textContent = formatNumber(Math.floor(averageDownloads));
        metricTopProjectName.textContent = topProject ? topProject.title : "‚Äì";
        metricLastUpdated.textContent = "Projects loaded live";

        // Cards
        sorted.forEach((project) => {
          const card = createElement("article", "mod-card");
          card.setAttribute("data-project-type", project.project_type || "mod");

          const header = createElement("div", "mod-header");

          const iconWrapper = createElement("div", "mod-icon");
          if (project.icon_url) {
            const img = document.createElement("img");
            img.src = project.icon_url;
            img.alt = project.title + " icon";
            iconWrapper.appendChild(img);
          }
          header.appendChild(iconWrapper);

          const titleRow = createElement("div", "mod-title-row");
          const nameEl = createElement("div", "mod-name", project.title || project.slug);
          titleRow.appendChild(nameEl);

          const typeEl = createElement("div", "mod-type", projectTypeLabel(project.project_type));
          titleRow.appendChild(typeEl);

          const titleContainer = document.createElement("div");
          titleContainer.appendChild(titleRow);

          header.appendChild(titleContainer);
          card.appendChild(header);

          if (project.description) {
            const desc = createElement("p", "mod-subtitle", project.description);
            card.appendChild(desc);
          }

          const tags = createElement("div", "mod-tags");

          if (Array.isArray(project.categories) && project.categories.length > 0) {
            project.categories.slice(0, 3).forEach((cat) => {
              tags.appendChild(createElement("span", "mod-tag", cat));
            });
          }

          if (Array.isArray(project.loaders) && project.loaders.length > 0) {
            tags.appendChild(
              createElement("span", "mod-tag", project.loaders.join(" ‚Ä¢ "))
            );
          }

          if (Array.isArray(project.game_versions) && project.game_versions.length > 0) {
            const latestGameVersion =
              project.game_versions[project.game_versions.length - 1];
            tags.appendChild(
              createElement("span", "mod-tag", "MC " + latestGameVersion)
            );
          }

          if (tags.childElementCount > 0) {
            card.appendChild(tags);
          }

          const metaRow = createElement("div", "mod-meta-row");

          const downloadsEl = createElement("div", "mod-downloads");
          const dlIcon = createElement("span", "icon", "‚¨áÔ∏è");
          const dlText = document.createElement("span");
          dlText.textContent = formatFullNumber(project.downloads || 0) + " downloads";
          downloadsEl.appendChild(dlIcon);
          downloadsEl.appendChild(dlText);
          metaRow.appendChild(downloadsEl);

          const followersEl = createElement(
            "div",
            "badge-small",
            "‚òÖ " + formatFullNumber(project.followers || 0) + " followers"
          );
          metaRow.appendChild(followersEl);

          card.appendChild(metaRow);

          const footer = createElement("div", "mod-footer");

          const links = createElement("div", "mod-links");
          const projectPathSegment = projectTypePathSegment(project.project_type);
          const modrinthUrl = "https://modrinth.com/" + projectPathSegment + "/" + project.slug;

          const modrinthLink = createElement("a", "mod-link");
          modrinthLink.href = modrinthUrl;
          modrinthLink.target = "_blank";
          modrinthLink.rel = "noreferrer";
          const mrIcon = createElement("span", "icon", "üß±");
          const mrLabel = document.createElement("span");
          mrLabel.textContent = "View on Modrinth";
          modrinthLink.appendChild(mrIcon);
          modrinthLink.appendChild(mrLabel);
          links.appendChild(modrinthLink);

          if (project.source_url) {
            const srcLink = createElement("a", "mod-link");
            srcLink.href = project.source_url;
            srcLink.target = "_blank";
            srcLink.rel = "noreferrer";
            const srcIcon = createElement("span", "icon", "üíª");
            const srcLabel = document.createElement("span");
            srcLabel.textContent = "Source";
            srcLink.appendChild(srcIcon);
            srcLink.appendChild(srcLabel);
            links.appendChild(srcLink);
          }

          footer.appendChild(links);

          const footerRight = createElement("div", "mod-footer-right");
          const published = project.published ? new Date(project.published) : null;
          const updated = project.updated ? new Date(project.updated) : null;

          if (updated) {
            footerRight.innerHTML =
              "<span>Updated: <strong>" +
              updated.toLocaleDateString(undefined, {
                year: "numeric",
                month: "short",
                day: "numeric",
              }) +
              "</strong></span>";
          } else if (published) {
            footerRight.innerHTML =
              "<span>Published: <strong>" +
              published.toLocaleDateString(undefined, {
                year: "numeric",
                month: "short",
                day: "numeric",
              }) +
              "</strong></span>";
          } else {
            footerRight.textContent = "No date info";
          }

          footer.appendChild(footerRight);

          card.appendChild(footer);

          modsGrid.appendChild(card);
        });

        modsGrid.hidden = false;
        modsState.style.display = "none";
      }

      function handleError(error) {
        console.error("Failed to fetch Modrinth projects:", error);
        renderState(
          "‚ö†Ô∏è",
          "Couldn‚Äôt load projects from Modrinth.",
          "Try reloading the page. If the issue persists, Modrinth‚Äôs API might be down or rate limiting."
        );
        modsGrid.hidden = true;

        statProjectCount.textContent = "‚Äì";
        statTotalDownloads.textContent = "‚Äì";
        statTopMod.textContent = "‚Äì";
        metricProjectCount.textContent = "‚Äì";
        metricTotalDownloads.textContent = "‚Äì";
        metricAverageDownloads.textContent = "‚Äì";
        metricTopProjectName.textContent = "‚Äì";
        metricLastUpdated.textContent = "Last updated: failed to fetch";
      }

      function initFilters() {
        if (!filterAllBtn) return;
        filterAllBtn.addEventListener("click", function () {
          // Placeholder ‚Äî in case you want to add filters later.
          // For now it just visually acts as a chip.
        });
      }

      function fetchProjects() {
        fetch(API_URL)
          .then(function (res) {
            if (!res.ok) {
              throw new Error("HTTP " + res.status);
            }
            return res.json();
          })
          .then(function (data) {
            if (!Array.isArray(data)) {
              throw new Error("Unexpected API response shape");
            }
            renderProjects(data);
          })
          .catch(handleError);
      }

      initFilters();
      fetchProjects();
    })();
  </script>
</body>
</html>
